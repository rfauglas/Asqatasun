# RGAA 3.2016 - Rule 11.1.3

## Summary
This test consists in checking the presence and the unicity of the `"id"` attribute of each label associated with a form input tag through the `"aria-labelledby"` attribute.

## Business description

### Criterion
[11.1](http://references.modernisation.gouv.fr/rgaa-accessibilite/criteres.html#crit-11-1)

### Test
[11.1.3](http://references.modernisation.gouv.fr/rgaa-accessibilite/criteres.html#test-11-1-3)

### Description
<div lang="fr">Chaque <a href="http://references.modernisation.gouv.fr/rgaa-accessibilite/glossaire.html#champ-de-saisie-de-formulaire">champ de formulaire</a> associ&#xE9; &#xE0; une <a href="http://references.modernisation.gouv.fr/rgaa-accessibilite/glossaire.html#tiquette-de-champs-de-formulaire">&#xE9;tiquette</a> <i>via</i> la propri&#xE9;t&#xE9; ARIA <code lang="en">aria-labelledby</code>, v&#xE9;rifie-t-il ces conditions&nbsp;? <ul><li>L&#x2019;&#xE9;tiquetteposs&#xE8;de un attribut <code lang="en">id</code>&nbsp;;</li> <li>La valeur de l&#x2019;attribut <code lang="en">id</code> est unique&nbsp;;</li> <li>Les valeurs de la propri&#xE9;t&#xE9; ARIA <code lang="en">aria-labelledby</code> sont &#xE9;gales &#xE0; la valeur des attributs <code lang="en">id</code> des passages de textes utilis&#xE9;s pour cr&#xE9;er l&#x2019;<a href="http://references.modernisation.gouv.fr/rgaa-accessibilite/glossaire.html#tiquette-de-champs-de-formulaire">&#xE9;tiquette</a>&nbsp;;</li> <li>L&#x2019;&#xE9;tiquetteli&#xE9;e par la propri&#xE9;t&#xE9; ARIA <code lang="en">aria-labelledby</code> est visible &#xE0; la <a href="http://references.modernisation.gouv.fr/rgaa-accessibilite/glossaire.html#prise-de-focus">prise de focus</a> au moins.</li> </ul></div>

### Level
**A**

## Technical description

### Scope
**Page**

### Decision level
**Decidable**

## Algorithm

### Selection
 
#### Set1

All the input form tags with a `"aria-labelledby"` attribute (form textarea[aria-labelledby] , form select[aria-labelledby] , form input[type=password][aria-labelledby] , form input[type=checkbox][aria-labelledby] , form input[type=file][aria-labelledby] , form input[type=text][aria-labelledby] , form input[type=radio][aria-labelledby])

### Process

#### Tests

##### Test1

For each element of **Set1**, test if the `"aria-labelled"` attribute is not empty.

For each occurence of false-result of **Test1**, raise a MessageA.

##### Test2

For each element of **Set1**, test if the value of the `"aria-labelledby"` attribute corresponds to an existing `"id"` on the page.

For each occurence of false-result of **Test2**, raise a MessageB.

##### Test3

For each element of **Set1**, test if the value of the `"aria-labelledby"` attribute corresponds to a unique `"id"` on the page.

For each occurence of false-result of **Test2**, raise a MessageC.

#### Messages 

##### MessageA : Aria labelledby attribute present but empty

- code : **AriaLabelledbyEmpty**
- status: Failed
- parameter : tag name
- present in source : yes

##### MessageB : Form element without label

- code : **FormElementWithoutLabel**
- status: Failed
- parameter : tag name
- present in source : yes

##### MessageC : Form element with not unique label

- code : **FormElementWithNotUniqueLabel**
- status: Failed
- parameter : tag name
- present in source : yes

### Analysis

#### Not Applicable

The page has no input form tag with a `"aria-labelledby"` attribute (**Set1** is empty)

#### Passed

All the form tags with a `"aria-labelledby"` attribute are associated with their label correctly (**Test1** AND **Test2** AND **Test3** return true for all elements)

#### Failed

At least one input form tag with a `"aria-labelledby"` attribute is not associated with its label correctly (**Test1** OR **Test2** OR **Test3** return false for at least one element)




##  TestCases

[TestCases files for rule 11.1.3](https://github.com/Asqatasun/Asqatasun/tree/develop/rules/rules-rgaa3.2016/src/test/resources/testcases/rgaa32016/Rgaa32016Rule110103/)


